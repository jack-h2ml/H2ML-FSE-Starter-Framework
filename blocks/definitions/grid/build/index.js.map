{"version":3,"file":"index.js","mappings":"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UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA;UACA","sources":["webpack://h2ml-gridarea/./node_modules/@wordpress/icons/build-module/library/grid.js","webpack://h2ml-gridarea/./src/edit.js","webpack://h2ml-gridarea/./src/index.js","webpack://h2ml-gridarea/./src/local_components/GridEditor/components/index.js","webpack://h2ml-gridarea/./src/local_components/GridEditor/index.js","webpack://h2ml-gridarea/./src/save.js","webpack://h2ml-gridarea/./src/utils.js","webpack://h2ml-gridarea/../../common/styles/grid-styles/editor.scss","webpack://h2ml-gridarea/../../common/styles/grid-styles/style.scss?ad2e","webpack://h2ml-gridarea/./src/editor.scss","webpack://h2ml-gridarea/./src/style.scss?5612","webpack://h2ml-gridarea/external window [\"wp\",\"blockEditor\"]","webpack://h2ml-gridarea/external window [\"wp\",\"blocks\"]","webpack://h2ml-gridarea/external window [\"wp\",\"components\"]","webpack://h2ml-gridarea/external window [\"wp\",\"data\"]","webpack://h2ml-gridarea/external window [\"wp\",\"element\"]","webpack://h2ml-gridarea/external window [\"wp\",\"i18n\"]","webpack://h2ml-gridarea/external window [\"wp\",\"primitives\"]","webpack://h2ml-gridarea/webpack/bootstrap","webpack://h2ml-gridarea/webpack/runtime/chunk loaded","webpack://h2ml-gridarea/webpack/runtime/compat get default export","webpack://h2ml-gridarea/webpack/runtime/define property getters","webpack://h2ml-gridarea/webpack/runtime/hasOwnProperty shorthand","webpack://h2ml-gridarea/webpack/runtime/make namespace object","webpack://h2ml-gridarea/webpack/runtime/jsonp chunk loading","webpack://h2ml-gridarea/webpack/before-startup","webpack://h2ml-gridarea/webpack/startup","webpack://h2ml-gridarea/webpack/after-startup"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst grid = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7.8 16.5H5c-.3 0-.5-.2-.5-.5v-6.2h6.8v6.7zm0-8.3H4.5V5c0-.3.2-.5.5-.5h6.2v6.7zm8.3 7.8c0 .3-.2.5-.5.5h-6.2v-6.8h6.8V19zm0-7.8h-6.8V4.5H19c.3 0 .5.2.5.5v6.2z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\nexport default grid;\n//# sourceMappingURL=grid.js.map","/**\n * WordPress dependencies.\n */\n\nimport {\n\tNotice,\n\tPanel,\n\tPanelBody,\n\tRangeControl,\n\tTextControl,\n\tButton,\n\tTooltip\n} from '@wordpress/components';\n\nimport {\n\tInspectorControls,\n\tuseInnerBlocksProps,\n\tBlockControls,\n\tBlockVerticalAlignmentToolbar,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\nimport {\n\t__,\n\t_n,\n\tsprintf\n} from '@wordpress/i18n';\n\nimport {\n\twithDispatch,\n\tuseSelect,\n} from '@wordpress/data';\n\nimport { \n\tuseState,\n\tuseEffect\n} from '@wordpress/element';\n\nimport { \n\tcreateReduxStore, \n\tregister\n} from '@wordpress/data';\n\n/**\n * Internal dependencies.\n */\n\nimport './../../../common/styles/grid-styles/editor.scss';\n\nimport './editor.scss';\n\nimport {\n\tgenerateGridTemplateAreas,\n\tgenerateGridTemplateColumnsOrRows,\n} from './utils.js'\n\nimport { GridEditor } from './local_components/GridEditor'\n\n/*\n* Redux store for holding the currently selected h2ml/grid-area, \n* This is used to ensure the currently selected h2ml/grid-area is visually on top in the editor.\n*/\n\nregister(createReduxStore(\"h2ml/grid_area_store\", {\n\treducer(state = {\n\t\tselected: {\n\t\t\tvalue: null\n\t\t},\n\t}, action) {\n\t\tswitch (action.type) {\n\t\t\tcase \"UPDATE_SELECTED_GRID_AREA\": {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tselected: {\n\t\t\t\t\t\t...state.selected,\n\t\t\t\t\t\tvalue: action.value\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn state;\n\t},\n\tactions: {\n\t\tsetSelectedGridArea(value) {\n\t\t\treturn {\n\t\t\t\ttype: \"UPDATE_SELECTED_GRID_AREA\",\n\t\t\t\tvalue\n\t\t\t};\n\t\t}\n\t},\n\tselectors: {\n\t\tgetSelectedGridArea(state) {\n\t\t\treturn state.selected.value;\n\t\t}\n\t}\n}));\n\n/**\n * The Code.\n */\n\nconst GridEdit = ({\n\t// Attributes.\n\tattributes: {\n\t\tverticalAlignment,\n\t\tcolDefinitions: {\n\t\t\tcount: colCount,\n\t\t\ttemplates: colTemplates\n\t\t},\n\t\trowDefinitions: {\n\t\t\tcount: rowCount,\n\t\t\ttemplates: rowTemplates\n\t\t},\n\t\tediting\n\t},\n\t// Attribute Setters.\n\tsetAlignment,\n\tsetGridNoColsOrRows,\n\tsetGridTemplateColumnOrRow,\n\tsetGridEditing,\n\t// Redux Setters.\n\tsetGridAreasEditorStackingOrder,\n\t// Other.\n\tclientId\n}) => {\n\n\t//\n\t// Get Information about the current Block, and its children. \n\t// (Used for setting the editor stacking order, and adding / editing Grid-Area's)\n\t//\n\n\tconst { selectedGridItemClientId, selectedGridItemRootBlockClientId, gridChildren } = useSelect((select) => {\n\t\t// Hooks.\n\t\tconst { getBlocks, getSelectedBlockClientId, getBlockParentsByBlockName } = select(blockEditorStore);\n\t\t// Variables.\n\t\tconst selectedGridItemClientId = getSelectedBlockClientId();\n\t\tconst selectedGridItemRootBlockClientId = selectedGridItemClientId ? getBlockParentsByBlockName(selectedGridItemClientId, ['h2ml/grid'], true)[0] : false;\n\t\tconst gridChildren = getBlocks(clientId);\n\t\t// Return Values.\n\t\treturn {\n\t\t\tselectedGridItemClientId,\n\t\t\tselectedGridItemRootBlockClientId,\n\t\t\tgridChildren\n\t\t};\n\t}, []);\n\n\t//\n\t// Handle updating the stacking order for any currently selected Grid Area's within the editor.\n\t//\n\n\tuseEffect(() => {\n\t\tsetGridAreasEditorStackingOrder(selectedGridItemClientId, selectedGridItemRootBlockClientId);\n\t}, [selectedGridItemClientId]);\n\n\t//\n\t// focusTarget state, this is used to ensure we auto-focus on the correct Grid Area when making changes to the Grid.\n\t//\n\n\tconst [focusTarget, setFocusTarget] = useState(null);\n\n\t// \n\t// If either of the Grid's total number of children changes (adding), or if the 'requestEdit' attribute of one of the Grid's \n\t// changes (updating) then do the following: \n\t// \n\t// If the Grid's 'editing' attribute is already set then we have just finished editing, and we should determine if we need \n\t// to focus on an updated Grid Area. In either case reset the Grid's 'editing' attribute to false.\n\t//\n\t// If the Grid's 'editing' attribute is NOT set then determine if any of the Grid's Grid-Area's are requesting an edit. \n\t// If so, call setGridEditing.\n\t//\n\t// This does not handle adding a new grid area, that is done by the Grid itself through the onKeyPress event, or it is \n\t// done by the gridEditor, using the BlockAppender button. \n\t//\n\n\tuseEffect(() => {\n\t\tif(editing) {\n\t\t\t// Set the focusTarget if needed. \n\t\t\tif(editing.clientId) setFocusTarget(editing);\n\t\t\t// Reset the Grid's 'editing' attribute. \n\t\t\tsetGridEditing(false);\n\t\t} else {\n\t\t\t// Determine if a Grid Area is requesting to be updated. \n\t\t\tconst childRequestedEdit = gridChildren.find(child => child.attributes.requestEdit);\n\t\t\tif(childRequestedEdit) {\n\t\t\t\t// Re-focus on the Grid, as focus will have been captured by the Grid Area.\n\t\t\t\tdocument.querySelector(`[data-block=\"${clientId}\"]`).focus();\n\t\t\t\tsetGridEditing(childRequestedEdit);\n\t\t\t}\n\t\t}\n\t}, [gridChildren, ...gridChildren.map(child => child.attributes.requestEdit)]);\n\n\t//\n\t// If the Grid's 'editing' attribute changes to false, and a focusTarget is set, then .focus() on the focusTarget's DOM element,\n\t// then reset the focusTarget to null.\n\t//\n\n\tuseEffect(() => {\n\t\tif(!editing && focusTarget) document.querySelector(`[data-block=\"${focusTarget.clientId}\"]`).focus();\n\t\tsetFocusTarget(null)\n\t}, [editing]);\n\n\t//\n\t// Register the Block / InnerBlock Props.\n\t//\n\n\tconst newGridAreaText = __('Add new Grid Area', 'h2ml');\n\tconst { children, ...innerBlocksProps } = useInnerBlocksProps(\n\t\tuseBlockProps({\n\t\t\tstyle: {\n\t\t\t\tgridTemplateAreas: generateGridTemplateAreas(0, colCount, rowCount) /* 0 === 'editor' */,\n\t\t\t\tgridTemplateColumns: generateGridTemplateColumnsOrRows(0, colTemplates) /* 0 === 'editor' */,\n\t\t\t\tgridTemplateRows: generateGridTemplateColumnsOrRows(0, rowTemplates) /* 0 === 'editor' */\n\t\t\t},\n\t\t\tonKeyPress: (e) => {\n\t\t\t\tif(clientId === selectedGridItemClientId) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t// Variables.\n\t\t\t\t\tconst { key } = e;\n\t\t\t\t\tconst editKeys = ['a', 'A'];\n\t\t\t\t\tconst exitKeys = ['c', 'C'];\n\t\t\t\t\t// Bind keys to attribute setters.\n\t\t\t\t\tif (editKeys.includes(key) && !editing) setGridEditing(true);\n\t\t\t\t\telse if (exitKeys.includes(key)) {\n\t\t\t\t\t\tsetGridEditing(false);\n\t\t\t\t\t\tsetGridEditing(false);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t}), {\n\t\t\tallowedBlocks: ['h2ml/grid-area'],\n\t\t}\n\t);\n\n\t//\n\t// The JSX.\n\t//\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockVerticalAlignmentToolbar\n\t\t\t\t\tonChange={setAlignment}\n\t\t\t\t\tvalue={verticalAlignment}\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<Panel>\n\t\t\t\t\t<PanelBody title={__('Grid Settings', 'h2ml')} initialOpen={true}>\n\t\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={__(`Grid area number of Columns`, 'h2ml')}\n\t\t\t\t\t\t\t\tvalue={colCount}\n\t\t\t\t\t\t\t\tonChange={value => setGridNoColsOrRows(0, value)} // 0 === 'col'\n\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={__(`Grid area number of Rows`, 'h2ml')}\n\t\t\t\t\t\t\t\tvalue={rowCount}\n\t\t\t\t\t\t\t\tonChange={value => setGridNoColsOrRows(1, value)} // 1 === 'row'\n\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{(colCount * rowCount) > 49 &&\n\t\t\t\t\t\t\t\t(<Notice status=\"warning\" isDismissible={false}>\n\t\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\t'The number of cells is greater than the recommended limit.',\n\t\t\t\t\t\t\t\t\t\t'h2ml'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Notice>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t<PanelBody title={__('Grid Columns Settings', 'h2ml')} initialOpen={false}>\n\t\t\t\t\t\t\t{[...Array(colCount)].map((_, i) => (\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={sprintf(__(\"Column %1$d Width\", 'h2ml'), i + 1)}\n\t\t\t\t\t\t\t\t\tvalue={colTemplates[i]}\n\t\t\t\t\t\t\t\t\tonChange={value => setGridTemplateColumnOrRow(0, i, value /* 0 === 'col' */)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t<PanelBody title={__('Grid Rows Settings', 'h2ml')} initialOpen={false}>\n\t\t\t\t\t\t\t{[...Array(rowCount)].map((_, i) => (\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={sprintf(__(\"Row %1$d Height\", 'h2ml'), i + 1)}\n\t\t\t\t\t\t\t\t\tvalue={rowTemplates[i]}\n\t\t\t\t\t\t\t\t\tonChange={value => setGridTemplateColumnOrRow(1, i, value) /* 0 === 'row' */}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</Panel>\n\t\t\t</InspectorControls>\n\t\t\t<div {...innerBlocksProps}>\n\t\t\t\t<GridEditor\n\t\t\t\t\tgridClientId={clientId}\n\t\t\t\t\tcolCount={colCount}\n\t\t\t\t\trowCount={rowCount}\n\t\t\t\t\tediting={editing}\n\t\t\t\t/>\n\t\t\t\t<div class=\"grid-grid-areas\">\n\t\t\t\t\t{!(editing) && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t<div class=\"grid-grid-area-appender-wrap\">\n\t\t\t\t\t\t\t\t<div class=\"addNewGridAreaContainer\">\n\t\t\t\t\t\t\t\t\t<Tooltip text={newGridAreaText}>\n\t\t\t\t\t\t\t\t\t\t<div class=\"addNewGridAreaWrap\">\n\t\t\t\t\t\t\t\t\t\t\t<label for=\"addNewGridArea\">{newGridAreaText}</label>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"addNewGridArea\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"addNewGridArea\"\n\t\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setGridEditing(true)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z\"></path></svg>\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\n/*\n * The Block Actions.\n */\n\nconst GridEditWrapper = withDispatch(\n\t(dispatch, ownProps, registry) => ({\n\t\t//\n\t\t// Update the Grid Area's WP alignment (Wide, Full etc).\n\t\t//\n\t\tsetAlignment(verticalAlignment) {\n\t\t\tconst { setAttributes } = ownProps;\n\t\t\tsetAttributes({ verticalAlignment });\n\t\t},\n\t\t//\n\t\t// Update number of columns / rows, clean up the relevant templates, and finally set the total number of Grid Area's.\n\t\t//\n\t\tsetGridNoColsOrRows(type, count) {\n\t\t\tconst { attributes, setAttributes } = ownProps;\n\t\t\t// Determine if we're setting Columns or Rows, and also get the opposite.\n\t\t\tconst options = ['col', 'row'];\n\t\t\tconst other = options[type ^ 1];\n\t\t\ttype = options[type];\n\t\t\t// Create a copy of the existing Column / Row definition.\n\t\t\tconst definitions = { ...attributes[`${type}Definitions`] };\n\t\t\tconst countDelta = count - definitions.count;\n\t\t\t// Clean up Column / Row templates.\n\t\t\tconst unit = type === 'col' ? '1fr' : 'max-content';\n\t\t\tdefinitions.templates.splice(...countDelta > 0 ?\n\t\t\t\t[definitions.templates.length, 0, ...Array.from(Array(countDelta)).map(_ => unit)] : // Adding Columns / Rows\n\t\t\t\t[count, definitions.templates.length - 1] // Removing Columns / Rows\n\t\t\t);\n\t\t\t// Update the definition's count value and then set the attrbute. \n\t\t\tdefinitions.count = count;\n\t\t\tsetAttributes({ [`${type}Definitions`]: definitions });\n\t\t},\n\t\t//\n\t\t// Update templates for specific Columns / Rows.\n\t\t//\n\t\tsetGridTemplateColumnOrRow(type, index, template) {\n\t\t\tconst { attributes, setAttributes } = ownProps;\n\t\t\t// Determine if we're generating a Columns or Rows template\n\t\t\tconst options = ['col', 'row'];\n\t\t\ttype = options[type];\n\t\t\t// Create a copy of the existing Column / Row definition.\n\t\t\tconst definitions = { ...attributes[`${type}Definitions`] };\n\t\t\t// Update the given Column / Row template and set the attribute.\n\t\t\tconst unit = type === 'col' ? '1fr' : 'max-content';\n\t\t\tdefinitions.templates[index] = template ? template : unit;\n\t\t\tsetAttributes({ [`${type}Definitions`]: definitions });\n\t\t},\n\t\t//\n\t\t// Set the Grid 'editing' attribute\n\t\t//\n\t\tsetGridEditing(value) {\n\t\t\tconst { setAttributes } = ownProps;\n\t\t\tsetAttributes({ editing: value });\n\t\t},\n\t\t//\n\t\t// When a Grid-Area or any of it's children are selcted, visually move that item to the top of the \n\t\t// stacking context. (this is not saved as an attribute, and is purely for convenience in the editor).\n\t\t//\n\t\tsetGridAreasEditorStackingOrder(selectedGridItemClientId, selectedGridItemRootBlockClientId) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { setSelectedGridArea } = dispatch('h2ml/grid_area_store');\n\t\t\tif (selectedGridItemRootBlockClientId === clientId) {\n\t\t\t\tconst { getBlock, getBlockParentsByBlockName, getBlocks } = registry.select(blockEditorStore);\n\t\t\t\t//\n\t\t\t\tconst parents = getBlock(selectedGridItemClientId).name !== 'h2ml/grid-area' ?\n\t\t\t\t\tgetBlockParentsByBlockName(selectedGridItemClientId, ['h2ml/grid', 'h2ml/grid-area'], true) :\n\t\t\t\t\t[selectedGridItemClientId, ...getBlockParentsByBlockName(selectedGridItemClientId, ['h2ml/grid', 'h2ml/grid-area'], true)];\n\t\t\t\t//\n\t\t\t\tconst selectedBlockParentsStackingOrder = parents.reduce((res, parentId, i, self) => {\n\t\t\t\t\tlet parentBlock = getBlock(parentId);\n\t\t\t\t\tif (parentBlock.name === 'h2ml/grid-area') {\n\t\t\t\t\t\tres.push({\n\t\t\t\t\t\t\tclientId: parentId,\n\t\t\t\t\t\t\teditorStackingOrder: getBlocks(self[++i]).reduce((res, cur) => cur.attributes.stackingOrder >= res ? cur.attributes.stackingOrder + 1 : res, 0)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t}, []);\n\t\t\t\t//\n\t\t\t\tsetSelectedGridArea({\n\t\t\t\t\tclientId: selectedGridItemClientId,\n\t\t\t\t\tparents: selectedBlockParentsStackingOrder\n\t\t\t\t});\n\t\t\t} else if (!selectedGridItemRootBlockClientId) {\n\t\t\t\tsetSelectedGridArea(null);\n\t\t\t}\n\t\t}\n\t})\n)(GridEdit);\n\n/*\n * Export the Block.\n */\n\nexport default function Edit(props) {\n\treturn <GridEditWrapper {...props} />;\n};","/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\n\nimport { grid as icon } from '@wordpress/icons';\n\n/**\n * Style\n */\n\nimport './../../../common/styles/grid-styles/style.scss';\n\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\n\nimport metadata from './block.json';\nimport Edit from './edit';\nimport Save from './save'\n\n/**\n * Register the Block\n */\n\nregisterBlockType(metadata.name, {\n\t//\n\ticon,\n\tedit: Edit,\n\tsave: Save,\n});\n\n","/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\t_n,\n\tsprintf\n} from '@wordpress/i18n';\n\nimport { Tooltip } from '@wordpress/components';\n\n/**\n * Components\n */\n\nexport const ColsRowHelperInner = (props) => {\n\tconst {\n\t\tindex\n\t} = props;\n\treturn <span>{index}</span>\n};\n\nexport const GridHelperLabel = (props) => {\n\tconst {\n\t\tlableType,\n\t\tlableCount\n\t} = props;\n\treturn <div class={`grid-cols-rows-helper-wrap`}>\n\t\t<div class={`grid-${lableType.substring(0, 3).toLowerCase()}s-helper`} />\n\t\t{Array.from(Array(lableCount)).map((_, lableIndex) => (\n\t\t\t<div\n\t\t\t\tclass=\"grid-cols-rows-helper\"\n\t\t\t\tstyle={{\n\t\t\t\t\t[`grid${lableType}Start`]: ++lableIndex + 1,\n\t\t\t\t\t[`grid${lableType === 'Column' ? 'Row' : 'Column'}Start`]: 1,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Tooltip text={sprintf(__('%2$s %1$d', 'h2ml'), lableIndex, lableType)}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>{lableIndex}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t))}\n\t</div>\n}\n\nexport const GridHelperCell = (props) => {\n\tconst {\n\t\tcellLabel,\n\t\tcellX,\n\t\tcellY,\n\t\tonMouseDown,\n\t\tonMouseEnter\n\t} = props;\n\treturn <div\n\t\tclass=\"grid-area-helper\"\n\t\t{...{ onMouseDown, onMouseEnter }}\n\t\tdata-xcoords={cellX}\n\t\tdata-ycoords={cellY}\n\t\tstyle={{\n\t\t\tgridArea: `${cellY + 1} / ${cellX + 1} / ${cellY + 2} / ${cellX + 2}`\n\t\t}}\n\t>\n\t\t{`${cellLabel}`} <sub>{`(${cellX}, ${cellY})`}</sub>\n\t</div>\n}\n\nexport const GridHelperAppender = (props) => {\n\tconst {\n\t\tstyle,\n\t\tchildren\n\t} = props;\n\treturn (\n\t\t<div\n\t\t\tclass=\"grid-grid-area-appender\"\n\t\t\tarea={props.area ? props.area : null}\n\t\t\t{...{ style }}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};","/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\t_n,\n} from '@wordpress/i18n';\n\nimport {\n\tselect,\n\tdispatch\n} from '@wordpress/data';\n\nimport {\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\nimport { createBlock } from '@wordpress/blocks';\n\nimport { useState } from '@wordpress/element';\n\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tGridHelperLabel,\n\tGridHelperCell,\n\tGridHelperAppender\n} from './components'\n\nimport { generateGridAreaStartEnd } from '../../utils.js'\n\n/**\n* Event callback Function for starting / updating the selecting of a Grid-Area Area\n*/\n\nconst doGridHelperSelection = (e, coords, res) => {\n\t// Reset the grid area coords on mousedown.\n\tif (e.type === 'mousedown') res = null;\n\t// Determine if we're updating an existing selection (dragging), or starting a new one (clicking).\n\tconst startX = res?.store?.x ? res?.store?.x : Number(coords.cellX);\n\tconst startY = res?.store?.y ? res?.store?.y : Number(coords.cellY);\n\tconst endX = Number(coords.cellX);\n\tconst endY = Number(coords.cellY);\n\t// Calculate and store the new Coords values.\n\tres = {\n\t\tstore: {\n\t\t\tx: startX,\n\t\t\ty: startY,\n\t\t},\n\t\tstart: {\n\t\t\tx: Math.min(startX, endX),\n\t\t\ty: Math.min(startY, endY)\n\t\t},\n\t\tend: {\n\t\t\tx: Math.max(startX, endX),\n\t\t\ty: Math.max(startY, endY),\n\t\t}\n\t};\n\tres.parsed = generateGridAreaStartEnd(res.start.x, res.start.y, res.end.x, res.end.y);\n\treturn res;\n}\n\n/**\n * Save Function\n */\n\nconst doGridHelperSave = (gridClientId, target, coords) => {\n\tif (target.clientId) {\n\t\t// Hooks.\n\t\tconst {updateBlockAttributes} = dispatch(blockEditorStore);\n\t\t// Update the requested Grid Area.\n\t\tupdateBlockAttributes(target.clientId, {\n\t\t\tgridArea: coords,\n\t\t\trequestEdit: false\n\t\t});\n\t} else {\n\t\t// Hooks.\n\t\tconst { getBlocks } = select(blockEditorStore);\n\t\tconst { insertBlock } = dispatch(blockEditorStore);\n\t\t// Adding a new Grid Area.\n\t\tconst {\n\t\t\tnextChildStackingOrder,\n\t\t\tnextChildIndex\n\t\t} = getBlocks(gridClientId).reduce(\n\t\t\t(res, cur, ind) => {\n\t\t\t\tres.nextChildStackingOrder = cur.attributes.stackingOrder >= res.nextChildStackingOrder ? cur.attributes.stackingOrder + 1 : res.nextChildStackingOrder;\n\t\t\t\tres.nextChildIndex = ind + 1;\n\t\t\t\treturn res;\n\t\t\t}, {\n\t\t\tnextChildStackingOrder: 0,\n\t\t\tnextChildIndex: 0\n\t\t}\n\t\t);\n\t\t// Insert the new Grid Area.\n\t\tinsertBlock(createBlock('h2ml/grid-area', {\n\t\t\tgridArea: coords,\n\t\t\tstackingOrder: nextChildStackingOrder\n\t\t}), nextChildIndex, gridClientId);\n\t}\n}\n\n/**\n * The JSX\n */\n\nexport const GridEditor = (props) => {\n\t// Properties.\n\tconst {\n\t\tgridClientId,\n\t\tcolCount,\n\t\trowCount,\n\t\tediting\n\t} = props;\n\t// State Managers.\n\tconst [gridHelperIsDrawing, setGridHelperIsDrawing] = useState(false);\n\tconst [gridHelperCanSave, setGridHelperCanSave] = useState(false);\n\tconst [gridHelperCoordRes, setGridHelperCoordRes] = useState(null);\n\t// The JSX.\n\treturn <div class=\"grid-helpers\">\n\t\t<GridHelperLabel\n\t\t\tlableType=\"Column\"\n\t\t\tlableCount={colCount}\n\t\t/>\n\t\t<GridHelperLabel\n\t\t\tlableType=\"Row\"\n\t\t\tlableCount={rowCount}\n\t\t/>\n\t\t{Array.from(Array(colCount * rowCount)).map((_, cellIndex) => {\n\t\t\tcellIndex++;\n\t\t\tconst cellX = ((cellIndex - 1) % colCount) + 1;\n\t\t\tconst cellY = Math.floor((cellIndex - 1) / colCount) + 1;\n\t\t\treturn <GridHelperCell\n\t\t\t\t{...{\n\t\t\t\t\tcellLabel: cellIndex,\n\t\t\t\t\tcellX,\n\t\t\t\t\tcellY,\n\t\t\t\t\tonMouseDown: (editing ? (e) => {\n\t\t\t\t\t\t// End Grid Area Selection.\n\t\t\t\t\t\tconst finishSelectingGridArea = () => {\n\t\t\t\t\t\t\t// Reset State.\n\t\t\t\t\t\t\tsetGridHelperIsDrawing(false);\n\t\t\t\t\t\t\t// Set State.\n\t\t\t\t\t\t\tsetGridHelperCanSave(true);\n\t\t\t\t\t\t\t// Cleanup this Document event listener.\n\t\t\t\t\t\t\tdocument.removeEventListener('mouseup', finishSelectingGridArea);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdocument.addEventListener('mouseup', finishSelectingGridArea);\n\t\t\t\t\t\t// Reset State.\n\t\t\t\t\t\tsetGridHelperCanSave(false);\n\t\t\t\t\t\t// Set State.\n\t\t\t\t\t\tsetGridHelperIsDrawing(true);\n\t\t\t\t\t\tsetGridHelperCoordRes(doGridHelperSelection(e, { cellX, cellY }, gridHelperCoordRes));\n\t\t\t\t\t} : undefined),\n\t\t\t\t\tonMouseEnter: (gridHelperIsDrawing ? (e) => {\n\t\t\t\t\t\t// Update Grid Area Selection.\n\t\t\t\t\t\tsetGridHelperCoordRes(doGridHelperSelection(e, { cellX, cellY }, gridHelperCoordRes));\n\t\t\t\t\t} : undefined)\n\t\t\t\t}}\n\t\t\t/>\n\t\t})}\n\t\t{editing && (\n\t\t\t<>\n\t\t\t\t{editing?.clientId ? (\n\t\t\t\t\t<div class=\"grid-adding-grid-areas-notice\">\n\t\t\t\t\t\t<p><strong>{__(\"Click and drag\", 'h2ml')}</strong> {__(\"to edit the Grid Area, when you're done click\", 'h2ml')} <strong>{__(\"Save Grid Area\", 'h2ml')}</strong>, {__(\"press\", 'h2ml')} <strong>{__(\"E\", 'h2ml')}</strong> {__(\"or\", 'h2ml')} <strong>{__(\"C\", 'h2ml')}</strong> {__(\"to cancel.\", 'h2ml')}<br />{__(\"Don't forget to \")}<strong>{__(\"Update\", 'h2ml')}</strong>{__(\" the post when you're done.\", 'h2ml')}</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div class=\"grid-adding-grid-areas-notice\">\n\t\t\t\t\t\t<p><strong>{__(\"Click and drag\", 'h2ml')}</strong> {__(\"to add a new Grid Area, when you're done click\", 'h2ml')} <strong>{__(\"Save Grid Area\", 'h2ml')}</strong>, {__(\"press\", 'h2ml')} <strong>{__(\"E\", 'h2ml')}</strong> {__(\"or\", 'h2ml')} <strong>{__(\"C\", 'h2ml')}</strong> {__(\"to cancel.\", 'h2ml')}<br />{__(\"Don't forget to \")}<strong>{__(\"Update\", 'h2ml')}</strong>{__(\" the post when you're done.\", 'h2ml')}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<GridHelperAppender\n\t\t\t\t\tclass=\"grid-grid-area-appender\"\n\t\t\t\t\tstyle={gridHelperCoordRes ? {\n\t\t\t\t\t\tgridArea: gridHelperCoordRes.parsed,\n\t\t\t\t\t\tdisplay: 'flex'\n\t\t\t\t\t} : undefined}\n\t\t\t\t> {gridHelperCanSave && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttext={editing?.clientId ? \n\t\t\t\t\t\t\t__('Update Grid Area', 'h2ml') :\n\t\t\t\t\t\t\t__('Add Grid Area', 'h2ml')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={editing?.clientId ? \n\t\t\t\t\t\t\t__('Update Grid Area', 'h2ml') :\n\t\t\t\t\t\t\t__('Add Grid Area', 'h2ml')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshowTooltip={true}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={() => { \n\t\t\t\t\t\t\t// Save the new / updated Grid Area.\n\t\t\t\t\t\t\tdoGridHelperSave(gridClientId, editing, gridHelperCoordRes); \n\t\t\t\t\t\t\t// Reset state.\n\t\t\t\t\t\t\tsetGridHelperIsDrawing(false);\n\t\t\t\t\t\t\tsetGridHelperCanSave(false);\n\t\t\t\t\t\t\tsetGridHelperCoordRes(null);\n\t\t\t\t\t\t\t// We use useEffect in the main component to reset the Grids 'editing' attriubte, so we don't\n\t\t\t\t\t\t\t// need to worry about doing it here, this allows us to more easily focus on the correct blocks.\n\t\t\t\t\t\t}}\n\t\t\t\t\t></Button>\n\t\t\t\t)} </GridHelperAppender>\n\t\t\t</>\n\t\t)}\n\t</div>\n}","/**\n * WordPress dependencies\n */\n\nimport {\n\tuseInnerBlocksProps,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies.\n */\n\nimport {\n\tgenerateGridTemplateAreas,\n    generateGridTemplateColumnsOrRows\n} from './utils.js'\n\n/**\n * The Code\n */\n\nexport default function Save({\n    attributes: {\n\t\tcolDefinitions: {\n\t\t\tcount: colCount,\n\t\t\ttemplates: colTemplates\n\t\t},\n\t\trowDefinitions: {\n\t\t\tcount: rowCount,\n\t\t\ttemplates: rowTemplates\n\t\t}\n\t},\n}) {\n    //\n    const innerBlocksProps = useInnerBlocksProps.save({ ...useBlockProps.save({\n        style: {\n            gridTemplateAreas: generateGridTemplateAreas(1, colCount, rowCount) /* 1 === 'save' */,\n            gridTemplateColumns: generateGridTemplateColumnsOrRows(1, colTemplates) /* 1 === 'save' */,\n\t\t\tgridTemplateRows: generateGridTemplateColumnsOrRows(1, rowTemplates) /* 1 === 'save' */\n        }\n    })});\n\t//\n    return (\n\t\t<div {...innerBlocksProps}/>\n\t);\n};","//\n//\n//\n\nexport function cssSafeBase64(string) {\n    return window.btoa(string).replace(/\\W/g, '');\n}\n\n//\n//\n//\n\nexport function generateGridArea(x, y) {\n    return cssSafeBase64(`${y}/${x}`);\n}\n\n//\n//\n//\n\nexport function generateGridAreaStartEnd(startX, startY, endX, endY) {\n    //\n    const start = cssSafeBase64(`${startY}/${startX}`);\n    const end = cssSafeBase64(`${endY}/${endX}`);\n    return `${start} / ${start} / ${end} / ${end}`;\n}\n\n//\n// Generate the grid-template-areas, grid-template-columns, and grid-template-rows CSS.\n//\n\nexport function generateGridTemplateAreas(context, colCount, rowCount) {\n    if(context) {\n        // Save\n        return Array.from(Array(rowCount)).reduce((rowsRes, _, rowsI) => (\n            `${rowsRes}\\n\"${Array.from(Array(colCount)).reduce((colsRes, _, colsI) => {\n                return `${colsRes} ${generateGridArea(++colsI, rowsI + 1)}`;\n            }, '')}\"`\n        ), '');\n    } else {\n        // Editor\n        // In the editor only, we add an additional Column / Row to the Grid Temlplate Areas, \n        // to account for the grid helpers.\n        return Array.from(Array(rowCount)).reduce((rowsRes, _, rowsI) => (\n            `${rowsRes}\\n\"${Array.from(Array(colCount)).reduce((colsRes, _, colsI) => {\n                return `${colsRes} ${generateGridArea(++colsI, rowsI + 1)}`;\n            }, '.')}\"`\n        ), `\"${Array.from(Array(colCount)).reduce((editorRes, _, i) => `${editorRes} .`, '.')}\"`);\n    }\n}\n\n//\n//\n//\n\nexport function generateGridTemplateColumnsOrRows(context, templates) {\n    if(context) {\n        // Save\n        return templates.reduce((res, cur) => {\n            return `${res} ${cur}`;\n        }, '');\n    } else {\n        // Editor\n        // In the editor only, we add an additional Column / Row template to account for the grid helpers.\n        return templates.reduce((res, cur) => {\n            return `${res} ${cur}`;\n        }, 'min-content');\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkh2ml_gridarea\"] = self[\"webpackChunkh2ml_gridarea\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["Notice","Panel","PanelBody","RangeControl","TextControl","Button","Tooltip","InspectorControls","useInnerBlocksProps","BlockControls","BlockVerticalAlignmentToolbar","useBlockProps","store","blockEditorStore","__","_n","sprintf","withDispatch","useSelect","useState","useEffect","createReduxStore","register","generateGridTemplateAreas","generateGridTemplateColumnsOrRows","GridEditor","reducer","state","selected","value","action","type","actions","setSelectedGridArea","selectors","getSelectedGridArea","GridEdit","attributes","verticalAlignment","colDefinitions","count","colCount","templates","colTemplates","rowDefinitions","rowCount","rowTemplates","editing","setAlignment","setGridNoColsOrRows","setGridTemplateColumnOrRow","setGridEditing","setGridAreasEditorStackingOrder","clientId","selectedGridItemClientId","selectedGridItemRootBlockClientId","gridChildren","select","getBlocks","getSelectedBlockClientId","getBlockParentsByBlockName","focusTarget","setFocusTarget","childRequestedEdit","find","child","requestEdit","document","querySelector","focus","map","newGridAreaText","children","innerBlocksProps","style","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","onKeyPress","e","stopPropagation","key","editKeys","exitKeys","includes","allowedBlocks","Array","_","i","GridEditWrapper","dispatch","ownProps","registry","setAttributes","options","other","definitions","countDelta","unit","splice","length","from","index","template","getBlock","parents","name","selectedBlockParentsStackingOrder","reduce","res","parentId","self","parentBlock","push","editorStackingOrder","cur","stackingOrder","Edit","props","registerBlockType","grid","icon","metadata","Save","edit","save","ColsRowHelperInner","GridHelperLabel","lableType","lableCount","substring","toLowerCase","lableIndex","GridHelperCell","cellLabel","cellX","cellY","onMouseDown","onMouseEnter","gridArea","GridHelperAppender","area","createBlock","generateGridAreaStartEnd","doGridHelperSelection","coords","startX","x","Number","startY","y","endX","endY","start","Math","min","end","max","parsed","doGridHelperSave","gridClientId","target","updateBlockAttributes","insertBlock","nextChildStackingOrder","nextChildIndex","ind","gridHelperIsDrawing","setGridHelperIsDrawing","gridHelperCanSave","setGridHelperCanSave","gridHelperCoordRes","setGridHelperCoordRes","cellIndex","floor","finishSelectingGridArea","removeEventListener","addEventListener","undefined","display","cssSafeBase64","string","window","btoa","replace","generateGridArea","context","rowsRes","rowsI","colsRes","colsI","editorRes"],"sourceRoot":""}