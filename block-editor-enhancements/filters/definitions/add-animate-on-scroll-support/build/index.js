!function(){"use strict";var e=window.wp.element,t=window.wp.hooks,a=window.wp.i18n,n=window.wp.compose,l=window.wp.data;const i=(0,l.createReduxStore)("h2mlFilterStore",{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{globals:{}},t=arguments.length>1?arguments[1]:void 0;return"H2ML_SET_GLOBAL"===t.type?{...e,[t.key]:{...e[t.key]&&e.value,...t.value}}:e},actions:{setGlobal(e,t){return{type:"H2ML_SET_GLOBAL",key:e,value:t}}},selectors:{hasGlobal(e,t){return Object.hasOwn(e,t)},getGlobal(e,t){const{[t]:a}=e;return a}},persist:["preferences"]});(0,l.register)(i);const o=()=>{const{hasGlobal:e,getGlobal:t}=(0,l.useSelect)(i),{setGlobal:a}=(0,l.dispatch)(i);return e("ParsedAnimateDotCSS")||(console.debug("Setting Animate.css Definitions"),a("ParsedAnimateDotCSS",[...document.styleSheets].reduce(((e,t)=>t.href&&t.href.includes("add-animate-on-scroll-support")?(console.debug("Generating Animate.css Definitions"),[...t.cssRules].reduce(((e,t)=>({...e,...Object.getPrototypeOf(t).constructor===CSSStyleRule&&t.selectorText.includes(".animate__")&&!t.selectorText.includes(".animate__animated")&&(t.selectorText.includes("In")||t.selectorText.includes("Out"))&&".animate__jackInTheBox"!==t.selectorText&&(t.selectorText.includes("In")?{animateIn:[...e.animateIn,{label:[...t.style.animationName.replace(/([A-Z])/g," $1")].reduce(((e,t,a)=>`${e}${a?t:t.toUpperCase()}`),""),value:t.selectorText.replace(/[.,\s]/g,"")}]}:{animateOut:[...e.animateOut,{label:[...t.style.animationName.replace(/([A-Z])/g," $1")].reduce(((e,t,a)=>`${e}${a?t:t.toUpperCase()}`),""),value:t.selectorText.replace(/[.,\s]/g,"")}]})})),{animateIn:[{label:"None",value:""}],animateOut:[{label:"None",value:""}]})):e),[]))),t("ParsedAnimateDotCSS")};var r=window.wp.blockEditor,m=window.wp.components;const s=t=>(0,e.createElement)("span",null,(0,a.__)("The 'Animate In' animation plays when scrolling the block into view.","h2ml")),c=t=>(0,e.createElement)("span",null,(0,a.__)("The 'Animate Out' animation plays when scrolling the block out of view.","h2ml")),u=t=>(0,e.createElement)(m.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,a.__)("Set this block's 'Animate In'","html")," ",(0,e.createElement)(m.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/time"},(0,a.__)("duration","h2ml")),"."),(0,e.createElement)("span",null,(0,a.__)("By default this is '500ms'.","h2ml"))),h=t=>(0,e.createElement)(m.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,a.__)("Set this block's 'Animate Out'","html")," ",(0,e.createElement)(m.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/time"},(0,a.__)("duration","h2ml")),"."),(0,e.createElement)("span",null,(0,a.__)("By default this is '500ms'.","h2ml"))),d=t=>(0,e.createElement)(m.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,a.__)("Set this block's 'Animate Threshold', this determines how much of the block must be visible before the animations play.","html")),(0,e.createElement)("span",null,(0,a.__)("By default this is '0.3', which is equal to 30% of the element being visible.","h2ml"))),_=t=>(0,e.createElement)(m.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,a.__)("Set this block's 'Animate Direction', this determines which scrolling behaviours trigger the animation.","html")),(0,e.createElement)("span",null,(0,a.__)("By default this is 'Forwards'.","h2ml"))),p=t=>(0,e.createElement)(m.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,a.__)("Add a comma seperated list of custom 'Classnames' to toggle, this can be used instead of, or in addition to, the predefined animations above.","h2ml"))),b=t=>{const{existingAttributes:n,existingAttributes:{animateIn:l,animateOut:i,customClasses:o,animateInDuration:b,animateOutDuration:S,animateDirection:g,animateThreshold:A},optionalAttributesDefaults:E,animationClassNames:O,setAttributes:D}=t;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(m.Panel,null,(0,e.createElement)(m.PanelBody,{title:(0,a.__)("Animate on Scroll","h2ml"),initialOpen:!1,className:"h2mlAnimateOnScrollPanel"},(0,e.createElement)(m.__experimentalVStack,{as:"div",spacing:4},(0,e.createElement)(m.Notice,{isDismissible:!1},(0,e.createElement)(m.__experimentalText,{size:"12px",color:"rgb(117, 117, 117)"},(0,a.__)("When adding animations which transition off-screen ensure that the document body has the","h2ml")," ",(0,e.createElement)(m.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-y"},"overflow-x")," ",(0,a.__)("property set to either 'hidden' or 'clip'.","h2ml"))),(0,e.createElement)(m.SelectControl,{onChange:e=>{D({h2mlAnimateOnScroll:{...n,animateIn:e}})},value:l,options:O.animateIn,label:(0,a.__)("Set the 'Animate In' style","h2ml"),help:(0,e.createElement)(s,null),style:{marginBottom:0},__nextHasNoMarginBottom:!0}),(0,e.createElement)(m.SelectControl,{onChange:e=>{D({h2mlAnimateOnScroll:{...n,animateOut:e}})},value:i,options:O.animateOut,label:(0,a.__)("Set the 'Animate Out' style","h2ml"),help:(0,e.createElement)(c,null),style:{marginBottom:0},__nextHasNoMarginBottom:!0}),(0,e.createElement)(m.TextControl,{value:o.join(", "),onChange:e=>{D({h2mlAnimateOnScroll:{...n,customClasses:e.split(",").map((e=>e.trim())).filter((e=>""!==e))}})},label:(0,a.__)("Custom Classnames","h2ml"),help:(0,e.createElement)(p,null)}),(l||i)&&(0,e.createElement)(m.__experimentalToolsPanel,{label:(0,a.__)("Animate on Scroll Additional Settings","h2ml"),resetAll:()=>{D({h2mlAnimateOnScroll:{...n,...E}})}},(0,e.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>b!==E.animateInDuration,label:(0,a.__)("Animate In Duration","h2ml"),onDeselect:()=>{D({h2mlAnimateOnScroll:{...n,animateInDuration:E.animateInDuration}})},isShownByDefault:!1},(0,e.createElement)(m.TextControl,{value:b,onChange:e=>{D({h2mlAnimateOnScroll:{...n,animateInDuration:e}})},label:(0,a.__)("Animate In Duration","h2ml"),help:(0,e.createElement)(u,null)})),(0,e.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>S!==E.animateOutDuration,label:(0,a.__)("Animate Out Duration","h2ml"),onDeselect:()=>{D({h2mlAnimateOnScroll:{...n,animateOutDuration:E.animateOutDuration}})},isShownByDefault:!1},(0,e.createElement)(m.TextControl,{value:S,onChange:e=>{D({h2mlAnimateOnScroll:{...n,animateOutDuration:e}})},label:(0,a.__)("Animate Out Duration","h2ml"),help:(0,e.createElement)(h,null)})),(0,e.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>A!==E.animateThreshold,label:(0,a.__)("Animate Threshold","h2ml"),onDeselect:()=>{D({h2mlAnimateOnScroll:{...n,animateThreshold:E.animateThreshold}})},isShownByDefault:!1},(0,e.createElement)(m.__experimentalNumberControl,{onChange:e=>{D({h2mlAnimateOnScroll:{...n,animateThreshold:e}})},value:A,min:.1,max:1,step:.1,label:(0,a.__)("Animate Threshold","h2ml"),help:(0,e.createElement)(d,null)})),(0,e.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>g!==E.animateDirection,label:(0,a.__)("Animate Direction","h2ml"),onDeselect:()=>{D({h2mlAnimateOnScroll:{...n,animateDirection:E.animateDirection}})},isShownByDefault:!1},(0,e.createElement)(m.SelectControl,{onChange:e=>{D({h2mlAnimateOnScroll:{...n,animateDirection:e}})},value:g,options:[{value:"forwards",label:(0,a.__)("Forwards (Default)","h2ml")},{value:"backwards",label:(0,a.__)("Backwards","h2ml")},{value:"both",label:(0,a.__)("Both (Experimental)","h2ml")}],label:(0,a.__)("Animate Direction","h2ml"),help:(0,e.createElement)(_,null),style:{marginBottom:0},__nextHasNoMarginBottom:!0})))))))},S="animate__animated",g={animateInDuration:"500ms",animateOutDuration:"500ms",animateThreshold:.3,animateDirection:"forwards"};(0,t.addFilter)("blocks.registerBlockType","h2ml/add-animate-on-scroll-attribute",(e=>{if(e?.attributes){const{h2mlAnimationOnScroll:t=!1}=e.attributes;if(!e.name?.includes("gravityforms"))return{...e,attributes:{...e.attributes,h2mlAnimateOnScroll:{type:"object",default:{animateIn:"",animateOut:"",customClasses:[],...g}}}}}return e})),(0,t.addFilter)("editor.BlockEdit","h2ml/add-animate-on-scroll-insepctor-controls-edit",(0,n.createHigherOrderComponent)((t=>a=>{const{attributes:{h2mlAnimateOnScroll:n,h2mlAnimateOnScroll:{animateIn:l,animateOut:i,customClasses:r}={}},setAttributes:m}=a;return l||i||r?.length?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{existingAttributes:n,optionalAttributesDefaults:g,animationClassNames:o(),setAttributes:m}),(0,e.createElement)(t,a)):(0,e.createElement)(t,a)}),"addAnimateOnScrollInspectorControlsEdit")),(0,t.addFilter)("blocks.getSaveContent.extraProps","h2ml/add-animate-on-scroll-styles-save",((e,t,a)=>{const{className:n}=e,{h2mlAnimateOnScroll:{animateIn:l,animateOut:i,customClasses:o,animateInDuration:r,animateOutDuration:m,animateThreshold:s,animateDirection:c}={}}=a;if(l||i||o?.length){const t=(n?n.split(" "):[]).reduce(((e,t)=>t!==S?`${e} ${t}`:`${e}`),S);return{...e,className:t,"data-animate":"",...l&&{"data-animate-in":l},...i&&{"data-animate-out":i},...o?.length&&{"data-hide-on-scroll-custom-classes":encode(o.join(" "))},...r&&{"data-animate-in-duration":r},...m&&{"data-animate-out-duration":m},...c&&{"data-animate-direction":c},...s&&{"data-animate-Threshold":s},...s&&{"data-animate-Threshold":s}}}return e}))}();