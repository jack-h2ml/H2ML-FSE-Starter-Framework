!function(){"use strict";var t=window.wp.i18n;class e{setAttributes=(t,e)=>Object.assign(t,e);setStyleProperties=(t,e)=>Object.assign(t.style,e);addEventListeners=(t,e)=>e.forEach((e=>{let{type:s,callback:i,options:r={}}=e;return t.addEventListener(s,i,r)}));removeEventListeners=(t,e)=>e.forEach((e=>{let{type:s,callback:i,options:r={}}=e;return t.removeEventListener(s,i,r)}))}class s extends e{#t={elem:null,button:null};#e=!1;set isCurrent(t){this.#e=t,this.setAttributes(this.#t.elem,{ariaHidden:`${!this.#e}`}),this.#t.button&&this.setAttributes(this.#t.button,{ariaCurrent:`${this.#e}`})}get isCurrent(){return this.#e}#s=0;set offsetX_static(t){this.setStyleProperties(this.#t.elem,{transition:"transform 0.2s ease-in",transform:`translateX(${t}px)`}),this.#s=t,this.#i=t}get offsetX_static(){return this.#s}#i=0;set offsetX_live(t){this.setStyleProperties(this.#t.elem,{transform:`translateX(${t}px)`,transition:""}),this.#i=t}get offsetX_live(){return this.#i}reset=()=>{this.isCurrent=!1,this.setStyleProperties(this.#t.elem,{transition:"",transform:""})};setBounds=()=>this.bounds={...(t=>{let{offsetLeft:e,offsetTop:s}=t;return{x:e,y:s}})(this.#t.elem),...(t=>{let{width:e,height:s}=t;return{width:parseFloat(e),height:parseFloat(s)}})(window.getComputedStyle(this.#t.elem))};attachButtonEvent=t=>this.#t.button&&this.#t.button.addEventListener("click",(e=>t(this,e)));constructor(t,e,s){super(),this.#t.elem=t,this.#t.button=e,console.log(this.#t.button,s),s&&this.attachButtonEvent(s),this.setBounds()}}class i extends Array{[Symbol.iterator]=function*(){for(let t=0;t<this.length;t++)yield this[t]};#r=function*(t){const e=t>0?this.atLast():this.atFirst();for(;!e;)yield this[this.indexOf(this.current)+t]};#n=this.#r(1);get next(){return this.#n.next().value}#o=this.#r(-1);get prev(){return this.#o.next().value}#a=null;set current(t){const e=0-t.bounds.x;this.forEach((s=>{s.offsetX_static=e,s.isCurrent=s===t})),this.#a=t}get current(){return this.#a}get first(){return this[0]}get last(){return this[this.length-1]}atFirst=()=>this.current===this.first;atLast=()=>this.current===this.last;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array.from(Array(t.length)),i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(...t.map(((t,r)=>new s(t,e[r],i)))),this.current=this.first}}class r extends e{#h=null;#l=null;#u=!1;set enabled(t){this.#u=(t?this.#c:this.#d)()}#f={start:null,current:null,end:null};#m=null;#v=t=>{1===t.changedTouches.length&&(this.#f.start=t.changedTouches[0].clientX)};#p=t=>{if(this.#f.start&&1===t.changedTouches.length){const e=this.#l,s=e.current,i=this.#f.start-t.changedTouches[0].clientX,r=s.offsetX_static-i;e.forEach((t=>{t.offsetX_live=r}))}};#b=t=>{const e=this.#f.start-t.changedTouches[0].clientX,s=this.#l;e>80&&!s.atLast()?s.current=s.next:e<-80&&!s.atFirst()?s.current=s.prev:s.current=s.current,this.#f.start=null};#d=()=>(this.#l.forEach((t=>t.reset())),this.#h.classList.remove("carouselEnabled"),this.removeEventListeners(this.#h,[{type:"touchstart",callback:this.#v,options:{passive:!0}},{type:"touchmove",callback:this.#p,options:{passive:!0}},{type:"touchend",callback:this.#b,options:{passive:!0}}]),!1);#c=()=>{var t;const e=this.#h;e.classList.add("carouselEnabled");const s=null!==(t=this.#l)&&void 0!==t?t:this.#l=new i([...e.querySelectorAll(this.slidesQuerySelector)],e.querySelectorAll(this.buttonsQuerySelector),this.#g),r=window.innerWidth;return this.#m!==r&&(s.forEach((t=>t.setBounds())),this.#m=r),s.current=s.current,this.addEventListeners(e,[{type:"touchstart",callback:this.#v,options:{passive:!0}},{type:"touchmove",callback:this.#p,options:{passive:!0}},{type:"touchend",callback:this.#b,options:{passive:!0}}]),!0};#g=(t,e)=>this.#l.current=t;#y=t=>window.matchMedia(this.mediaQuery).matches;#E=()=>{this.#h,this.#m=window.innerWidth,this.enabled=this.#y(),window.addEventListener("resize",(()=>this.enabled=this.#y()))};constructor(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"(min-width: 0px)";super(),this.#h=t,this.slidesQuerySelector=e,this.buttonsQuerySelector=s,this.mediaQuery=i,this.#E()}}window.addEventListener("load",(()=>document.querySelectorAll(".h2mlGalleryCarousel").forEach((e=>{const s=[...e.querySelectorAll(".wp-block-image")];e.querySelector(".carouselNav").append(...s.map(((e,i)=>Object.assign(document.createElement("button"),{ariaLabel:(0,t.sprintf)((0,t.__)("Go to slide %d of %d"),i+1,s.length)})))),new r(e,".wp-block-image",".carouselNav > button")}))))}();