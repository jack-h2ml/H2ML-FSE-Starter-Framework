!function(){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},e.apply(this,arguments)}var t=window.wp.element,n=window.wp.hooks,l=window.wp.blockEditor,i=window.wp.components,o=window.wp.i18n,a=window.wp.compose;const r=e=>(0,t.createElement)(i.__experimentalVStack,{as:"span",spacing:1},(0,t.createElement)("span",e,(0,o.__)("Set this block's","html")," ",(0,t.createElement)(i.ExternalLink,{href:"https://developer.mozilla.org/docs/Web/CSS/position"},(0,o.__)("Position Property","h2ml"))),(0,t.createElement)("span",null,(0,o.__)("Currently only, 'Static' (default), 'Relative', and 'Sticky' are supported.","h2ml"))),s=["core/template-part","core/group","core/columns","h2ml/grid","h2ml/grid-area"];(0,n.addFilter)("blocks.registerBlockType","h2ml/add-positioning-attribute",(e=>{const{name:t}=e;return s.includes(t)?{...e,attributes:{...e.attributes,h2mlPositioning:{type:"object",default:{type:"",values:{top:"",right:"",bottom:"",left:""},zIndex:""}}}}:e})),(0,n.addFilter)("editor.BlockListBlock","h2ml/add-positioning-styles-edit",(0,a.createHigherOrderComponent)((n=>l=>{const{attributes:{h2mlPositioning:{type:i,values:o,zIndex:a}={},wrapperProps:r={}}}=l;return void 0!==i?(0,t.createElement)(n,e({},l,{wrapperProps:{...r,style:{position:"fixed"===i?"sticky":i,...o,zIndex:a}}})):(0,t.createElement)(n,l)}),"addPositioningStylesEdit")),(0,n.addFilter)("editor.BlockEdit","h2ml/add-positioning-insepctor-controls-edit",(0,a.createHigherOrderComponent)((e=>n=>{const{attributes:{h2mlPositioning:{type:a,values:s,zIndex:c}={}},setAttributes:d}=n;return void 0!==a?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(i.Panel,null,(0,t.createElement)(i.PanelBody,{title:(0,o.__)("Positioning","h2ml"),initialOpen:!1},(0,t.createElement)(i.SelectControl,{onChange:e=>{d({h2mlPositioning:{type:e,values:s}})},value:a,options:[{label:"Static",value:""},{label:"Fixed",value:"fixed"},{label:"Relative",value:"relative"},{label:"Sticky",value:"sticky"}],help:(0,t.createElement)(r,null)}),a&&(0,t.createElement)(i.__experimentalToolsPanel,{label:(0,o.__)("Positioning Options","h2ml"),resetAll:()=>{d({h2mlPositioning:{type:a,values:Object.entries(s).reduce(((e,t)=>(e[t[0]]="",e)),{}),zIndex:""}})}},(0,t.createElement)(i.__experimentalToolsPanelItem,{hasValue:()=>Object.entries(s).filter((e=>"zIndex"!==e[0]&&!!e[1])),label:(0,o.__)("Position Values","h2ml"),onDeselect:()=>{d({h2mlPositioning:{type:a,values:Object.entries(s).reduce(((e,t)=>(e[t[0]]="",e)),{}),zIndex:c}})},isShownByDefault:!0},(0,t.createElement)(i.__experimentalBoxControl,{label:(0,o.__)("Position Values","h2ml"),sides:Object.keys(s),values:s,onChange:e=>{d({h2mlPositioning:{type:a,values:{...s,...e},zIndex:c}})}})),(0,t.createElement)(i.__experimentalToolsPanelItem,{hasValue:()=>Object.entries(s).filter((e=>"zIndex"!==e[0]&&!!e[1])),label:(0,o.__)("Stacking Order","h2ml"),onDeselect:()=>{d({h2mlPositioning:{type:a,values:s,zIndex:""}})},isShownByDefault:!1},(0,t.createElement)(i.__experimentalNumberControl,{label:(0,o.__)("Stacking Order","h2ml"),value:c||1,onChange:e=>{d({h2mlPositioning:{type:a,values:{...s},zIndex:e}})},shiftStep:1,isShiftStepEnabled:!0})))))),(0,t.createElement)(e,n)):(0,t.createElement)(e,n)}),"addPositioningInspectorControlsEdit")),(0,n.addFilter)("blocks.getSaveContent.extraProps","h2ml/add-positioning-styles-save",((e,t,n)=>{const{h2mlPositioning:{type:l,values:i,zIndex:o}={}}=n;return l?{...e,style:{...e.style,position:l,...Object.keys(i).reduce(((e,t)=>({...e,...i[t]&&{[t]:i[t]}})),{}),zIndex:o}}:e}))}();