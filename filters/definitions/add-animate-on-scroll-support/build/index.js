(()=>{"use strict";const e=window.wp.element,t=window.wp.hooks,a=window.wp.blockEditor,n=window.wp.components,l=window.wp.i18n,i=window.wp.compose,o=t=>(0,e.createElement)("span",null,(0,l.__)("The 'Animate In' animation plays when scrolling the block into view.","h2ml")),m=t=>(0,e.createElement)("span",null,(0,l.__)("The 'Animate Out' animation plays when scrolling the block out of view.","h2ml")),r=t=>(0,e.createElement)(n.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,l.__)("Set this block's 'Animate In'","html")," ",(0,e.createElement)(n.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/time"},(0,l.__)("duration","h2ml")),"."),(0,e.createElement)("span",null,(0,l.__)("By default this is 500ms.","h2ml"))),u=t=>(0,e.createElement)(n.__experimentalVStack,{as:"span",spacing:1},(0,e.createElement)("span",null,(0,l.__)("Set this block's 'Animate Out'","html")," ",(0,e.createElement)(n.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/time"},(0,l.__)("duration","h2ml")),"."),(0,e.createElement)("span",null,(0,l.__)("By default this is 500ms.","h2ml"))),s="animate__animated";(0,t.addFilter)("blocks.registerBlockType","h2ml/add-animation-on-scroll-attribute",(e=>({...e,attributes:{...e.attributes,h2mlAnimationOnScroll:{type:"object",default:{animateIn:"",animateOut:"",animateInDuration:"",animateOutDuration:""}}}}))),(0,t.addFilter)("editor.BlockEdit","h2ml/add-positioning-insepctor-controls-edit",(0,i.createHigherOrderComponent)((t=>i=>{const{attributes:{h2mlAnimationOnScroll:{animateIn:s,animateOut:c,animateInDuration:d,animateOutDuration:h}={}},setAttributes:_}=i;return void 0!==s?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(n.Panel,null,(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Animate on Scroll","h2ml"),initialOpen:!1,className:"h2mlAnimateOnScrollPanel"},(0,e.createElement)(n.__experimentalVStack,{as:"div",spacing:4},(0,e.createElement)(n.Notice,{isDismissible:!1},(0,e.createElement)(n.__experimentalText,{size:"12px",color:"rgb(117, 117, 117)"},(0,l.__)("When adding animations which transition off-screen ensure that the document body has the","h2ml")," ",(0,e.createElement)(n.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-y"},"overflow-x")," ",(0,l.__)("property set to either 'hidden' or 'clip'.","h2ml"))),(0,e.createElement)(n.SelectControl,{onChange:e=>{_({h2mlAnimationOnScroll:{animateIn:e,animateOut:c,animateInDuration:d,animateOutDuration:h}})},value:s,options:[{label:"None",value:""},{label:"Fade in",value:"animate__fadeIn"},{label:"Fade in Down",value:"animate__fadeInDown"},{label:"Fade in Left",value:"animate__fadeInLeft"},{label:"Fade in Up",value:"animate__fadeInUp"},{label:"Fade in Right",value:"animate__fadeInRight"}],label:(0,l.__)("Set the 'Animate In' style","h2ml"),help:(0,e.createElement)(o,null),style:{marginBottom:0},__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.SelectControl,{onChange:e=>{_({h2mlAnimationOnScroll:{animateIn:s,animateOut:e,animateInDuration:d,animateOutDuration:h}})},value:c,options:[{label:"None",value:""},{label:"Fade out",value:"animate__fadeOut"},{label:"Fade out Down",value:"animate__fadeOutDown"},{label:"Fade out Left",value:"animate__fadeOutLeft"},{label:"Fade out Up",value:"animate__fadeOutUp"},{label:"Fade out Right",value:"animate__fadeOutRight"}],label:(0,l.__)("Set the 'Animate Out' style","h2ml"),help:(0,e.createElement)(m,null),style:{marginBottom:0},__nextHasNoMarginBottom:!0}),(s||c)&&(0,e.createElement)(n.__experimentalToolsPanel,{label:"Animation Additional Settings",resetAll:()=>{_({h2mlAnimationOnScroll:{animateIn:s,animateOut:c,animateInDuration:"",animateOutDuration:""}})}},(0,e.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!d,label:(0,l.__)("Animate In Duration","h2ml"),onDeselect:()=>{_({h2mlAnimationOnScroll:{animateIn:s,animateOut:c,animateInDuration:"",animateOutDuration:h}})},isShownByDefault:!1},(0,e.createElement)(n.TextControl,{value:d,onChange:e=>{_({h2mlAnimationOnScroll:{animateIn:s,animateOut:c,animateInDuration:e,animateOutDuration:h}})},label:(0,l.__)("Animate In Duration","h2ml"),help:(0,e.createElement)(r,null)})),(0,e.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!h,label:(0,l.__)("Animate Out Duration","h2ml"),onDeselect:()=>{_({h2mlAnimationOnScroll:{animateIn:s,animateOut:c,animateInDuration:d,animateOutDuration:""}})},isShownByDefault:!1},(0,e.createElement)(n.TextControl,{value:h,onChange:e=>{_({h2mlAnimationOnScroll:{animateIn:s,animateOut:c,animateInDuration:d,animateOutDuration:e}})},label:(0,l.__)("Animate Out Duration","h2ml"),help:(0,e.createElement)(u,null)}))))))),(0,e.createElement)(t,i)):(0,e.createElement)(t,i)}),"addAnimationOnScrollInspectorControlsEdit")),(0,t.addFilter)("blocks.getSaveContent.extraProps","h2ml/add-positioning-styles-save",((e,t,a)=>{const{className:n}=e,{h2mlAnimationOnScroll:{animateIn:l,animateOut:i,animateInDuration:o,animateOutDuration:m}={}}=a;if(l||i){const t=(n?n.split(" "):[]).reduce(((e,t)=>t!==s?`${e} ${t}`:`${e}`),s);return{...e,className:t,...(l||i)&&{"data-animate":""},...l&&{"data-animate-in":l},...i&&{"data-animate-out":i},...o&&{"data-animate-in-duration":o},...m&&{"data-animate-out-duration":m}}}return e}))})();